<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Full Node REST API - 0bsNetwork Developer Site</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  <link href="../stylesheets/extra.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Full Node REST API";
    var mkdocs_page_input_path = "nodeapi.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> 0bsNetwork Developer Site</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../about/">About 0bsNetwork</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../componentsandservices/">Components and Services</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../transactions/">Transactions</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../smartcontracts/">Smart Contracts</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../fullnode/">Full Node Operation</a>
	    </li>
          
            <li class="toctree-l1 current">
		
    <a class="current" href="./">Full Node REST API</a>
    <ul class="subnav">
            
    <li class="toctree-l2"><a href="#full-node-api">Full Node API</a></li>
    
        <ul>
        
            <li><a class="toctree-l3" href="#signing-transactions-on-the-node">Signing Transactions on the Node</a></li>
        
            <li><a class="toctree-l3" href="#matcher-api">Matcher API</a></li>
        
        </ul>
    

    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../javascript/">Javascript Libraries</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../java/">Java Library</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../python/">Python Library</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../cs/">C# Library</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../dataservice/">Data Service API</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../link/">0bsLink</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../tutorials/">Tutorials</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../glossary/">Glossary</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">0bsNetwork Developer Site</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Full Node REST API</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h2 id="full-node-api">Full Node API</h2>
<p>The full node exposes an API that allows you to manage the node, get information about its status, get information about the blockchain, and interact with the blockchain.</p>
<p>The node comes with its own API documentation which goes some way to explain the features and functions and that can be found on port 7431 on your own node, or you can use our public node API here;</p>
<p><a href="https://node1.testnet-0bsnetwork.com">https://node1.testnet-0bsnetwork.com</a></p>
<p>To enable the API on your own node, you need to enable it, set its API key, and ensure its listening and exposed on the firewall. Within your nodes configuration file, find the rest-api section and set;</p>
<ul>
<li>enable = yes</li>
<li>bind-address = Your IP or 0.0.0.0 to listen on all IPs</li>
<li>double check the port its 7431 for testnet and 7441 for mainnet and open up that port on your firewall (ufw allow 7431)</li>
<li>Initially set api-key-hash to some gibberish to protect your API, and we can set it properly in the next step.</li>
</ul>
<pre><code> rest-api {
    enable = yes
    bind-address = &quot;127.0.0.1&quot;
    port = 7431
    api-key-hash = &quot;86GJVSoboK12zXHYJFzoucAKaFS1yyXA2NztWSt9tGiX&quot;
  }

</code></pre>

<p>Once you restart your node, you should be able to access the swagger interface at http://yournode:7431</p>
<p>Now we need to setup the API key, and the API conveniently has a feature to do that, open up the 'utils' section on the API page, and find;</p>
<p><code>utils/hash/secure</code></p>
<p>Enter your desired API key and hit 'try it out' and it should give you a hash in response. Paste that into the api-key-hash in your config file and restart your node again, you can now use the API key in API calls that require it.</p>
<p>This API key gives you access to features on your node using the nodes wallet, for example, you can have the node sign a transaction</p>
<h3 id="signing-transactions-on-the-node">Signing Transactions on the Node</h3>
<p>You can send a transaction to your node to sign, and it will be signed using the private key of the nodes wallet (Ensure the nodes wallet has funds... You can get its address from the nodes API /addresses endpoint) The steps to do this are as below.</p>
<blockquote>
<p>Note: Its not possible to sign transactions on our public nodes as the node does these oprations using its own private key</p>
</blockquote>
<ul>
<li>Obtain the correct JSON transaction format from <a href="../transactions/">Transactions</a></li>
<li>POST the json to the <code>/transactions/sign</code> endpoint (Including your API key in the header X-API-Key)</li>
<li>The node returns a signed transaction</li>
<li>POST the signed transaction to the nodes <code>/transactions/broadcast</code> endpoint</li>
</ul>
<p>Below is an example of the <code>transactions/sign</code> endpoint</p>
<pre><code>curl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' --header 'X-API-Key: myapikey' -d '{ \
     &quot;senderPublicKey&quot;:&quot;4c5K4kGeRdrnSYZ9wngQKSozikVgfxmDEuViirsyUHwd&quot;, \
     &quot;amount&quot;:110000000 \
     fee&quot;:500000, \
     &quot;type&quot;:4, \
     &quot;version&quot;:2, \
     &quot;attachment&quot;:&quot;&quot;, \
     &quot;sender&quot;:&quot;3MyT3r1S8xvKtiKnLgVNNiSAiQdnMbffBQy&quot;, \
     &quot;feeAssetId&quot;:null, \
     &quot;proofs&quot;:[&quot;2KFbYWi9BJwDG9dbiJQzC9qJPpu4Ug8Ybs331fQbX9FAkEpEtrj9DKvwNG7cb2m98DV6NCoKH4MBVtGGFsnQWPV6&quot;], \
     &quot;assetId&quot;:null, // If we are sending an asset, null for ZBS \
     &quot;recipient&quot;:&quot;3MqEisFsWdhvDMAKBwZzZv4niVsfJJtxcaw&quot;, \
     &quot;feeAsset&quot;:null \
 }' 'https://node1.testnet-0bsnetwork.com/transactions/sign'
</code></pre>

<p>Of course this is not ideal for many situations, and you need to sign the transaction on the client side, and only use the node to broadcast the transaction. Our libraries help with this, or check out <a href="../transactions/">Transactions</a> For more details on manually signing transactions.</p>
<h3 id="matcher-api">Matcher API</h3>
<p>Matcher also has an API to create orders, and get orderbook information. The documentation for this is hosted by the matcher at;</p>
<p><a href="https://matcher.testnet-0bsnetwork.com">https://matcher.testnet-0bsnetwork.com</a></p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../javascript/" class="btn btn-neutral float-right" title="Javascript Libraries">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../fullnode/" class="btn btn-neutral" title="Full Node Operation"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../fullnode/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../javascript/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>

</body>
</html>
