<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Javascript Libraries - 0bsNetwork Developer Site</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  <link href="../stylesheets/extra.css" rel="stylesheet" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Javascript Libraries";
    var mkdocs_page_input_path = "javascript.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> 0bsNetwork Developer Site</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../about/">About 0bsNetwork</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../componentsandservices/">Components and Services</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../transactions/">Transactions</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../smartcontracts/">Smart Contracts</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../fullnode/">Full Node Operation</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../nodeapi/">Full Node REST API</a>
                    </li>
                </ul>
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Javascript Libraries</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#seed-utils">Seed Utils</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#balance-info">Balance Info</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#transactions">Transactions</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#broadcast">Broadcast</a>
    </li>
    </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../react/">React Library</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../java/">Java Library</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../python/">Python Library</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../cs/">C# Library</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../signer/">Transaction Signer (POC)</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../dataservice/">Data Service API</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../link/">0bsLink</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../tutorials/">Tutorials</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../glossary/">Glossary</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">0bsNetwork Developer Site</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Javascript Libraries</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h2 id="javascript-library">Javascript Library</h2>
<p>Using this library you can easily create and sign transactions for 0bsnetwork blockchain.
It also allows you to multi-sign existing transactions or create them without signature at all.</p>
<p>You can download a sample project <a href="../resources/js-lib-examples.zip">here</a> that contains code for all transactions as per below. (Remember to npm install first)</p>
<h3 id="seed-utils">Seed Utils</h3>
<p>You can generate, encrypt and manage seeds using the seedUtils class. For example</p>
<p>Generate a new seed (TestNet, use Z for MainNet)</p>
<pre><code class="js">let newSeed = seedUtils.Seed.create(15, 'T');

console.log(newSeed.phrase); // 'hole law front bottom then mobile fabric under horse drink other member work twenty boss'
console.log(newSeed.address); // '3Mr5af3Y7r7gQej3tRtugYbKaPr5qYps2ei'
console.log(newSeed.keyPair); // { privateKey: 'HkFCbtBHX1ZUF42aNE4av52JvdDPWth2jbP88HPTDyp4', publicKey: 'AF9HLq2Rsv2fVfLPtsWxT7Y3S9ZTv6Mw4ZTp8K8LNdEp' }

</code></pre>

<p>Or use an existing one (TestNet, use Z for MainNet)</p>
<pre><code class="js">
let mySeed = seedUtils.Seed.fromExistingPhrase(yourSeed, 'T');

</code></pre>

<p>And then encrypt it</p>
<pre><code class="js">
const seedEncrypted = newSeed.encrypt(encryptionKey, 2048);

</code></pre>

<p>Decrypt it later</p>
<pre><code class="js">let seedDecrypted = seedUtils.decryptSeed(seedEncrypted,encryptionKey,2048 );

</code></pre>

<h3 id="balance-info">Balance Info</h3>
<p>You can get the balance of an account ZBS or Asset using the following methods;</p>
<pre><code>let nodeAddress = &quot;http://node1.0bsnetwork.com&quot;
const bal = await addressBalance(address, assetId, nodeAddress);

const assetBal = await addressAssetBalance(user.get('walletaddress'), config.assetId, config.node_address);
</code></pre>

<p>Note: Remember to divide the balance to get the appropriate value with decimals (For example, 2 decimals, / 100)</p>
<h3 id="transactions">Transactions</h3>
<p>The idea is really simple - you create transaction and sign it from a minimal set of required params.
If you want to create a Transfer transaction the minimum you need to provide is <strong>amount</strong> and <strong>recipient</strong> as defined in <a href="../transactions/">Transfer params</a>:</p>
<pre><code class="js">
const { transfer } = require('@0bsnetwork/zbs-transactions')
const seed = 'some example seed phrase'
const signedTranserTx = transfer({
  amount: 1,
  recipient: '3P6fVra21KmTfWHBdib45iYV6aFduh4WwC2',
  //Timestamp is optional but it was overridden, in case timestamp is not provided it will fallback to Date.now(). You can set any oftional params yourself. go check full docs
  timestamp: 1536917842558
}, seed)
</code></pre>

<p>Output will be a signed transfer transaction:</p>
<pre><code class="js">{
  id: '8NrUwgKRCMFbUbqXKQAHkGnspmWHEjKUSi5opEC6Havq',
  type: 4,
  version: 2,
  recipient: '3P6fVra21KmTfWHBdib45iYV6aFduh4WwC2',
  attachment: undefined,
  feeAssetId: undefined,
  assetId: undefined,
  amount: 1,
  fee: 100000,
  senderPublicKey: '6nR7CXVV7Zmt9ew11BsNzSvVmuyM5PF6VPbWHW9BHgPq',
  timestamp: 1536917842558,
  proofs: [
    '25kyX6HGjS3rkPTJRj5NVH6LLuZe6SzCzFtoJ8GDkojY9U5oPfVrnwBgrCHXZicfsmLthPUjTrfT9TQL2ciYrPGE'
  ]
}
</code></pre>

<p>You can also create transaction, but not sign it:</p>
<pre><code class="javascript">const unsignedTransferTx = transfer({
  amount: 1,
  recipient: '3P6fVra21KmTfWHBdib45iYV6aFduh4WwC2',
  //senderPublicKey is required if you omit seed
  senderPublicKey: '6nR7CXVV7Zmt9ew11BsNzSvVmuyM5PF6VPbWHW9BHgPq'
})
</code></pre>

<p>Now you are able to POST it to 0bsNetwork or store for future purpose or you can add another signature from other party:</p>
<pre><code class="js">const otherPartySeed = 'other party seed phrase'
const transferSignedWithTwoParties = transfer(signedTranserTx, seed)
</code></pre>

<p>So now there are two proofs:</p>
<pre><code class="js">{
  id: '8NrUwgKRCMFbUbqXKQAHkGnspmWHEjKUSi5opEC6Havq',
  type: 4,
  version: 2,
  recipient: '3P6fVra21KmTfWHBdib45iYV6aFduh4WwC2',
  attachment: undefined,
  feeAssetId: undefined,
  assetId: undefined,
  amount: 1,
  fee: 100000,
  senderPublicKey: '6nR7CXVV7Zmt9ew11BsNzSvVmuyM5PF6VPbWHW9BHgPq',
  timestamp: 1536917842558,
  proofs: [
    '25kyX6HGjS3rkPTJRj5NVH6LLuZe6SzCzFtoJ8GDkojY9U5oPfVrnwBgrCHXZicfsmLthPUjTrfT9TQL2ciYrPGE',
    'CM9emPzpe6Ram7ZxcYax6s7Hkw6698wXCMPSckveFAS2Yh9vqJpy1X9nL7p4RKgU3UEa8c9RGXfUK6mFFq4dL9z'
  ]
}
</code></pre>

<h3 id="broadcast">Broadcast</h3>
<p>To send transaction you can use either node api or broadcast helper function:</p>
<pre><code class="javascript">const {broadcast} =  require('@0bsnetwork/zbs-transaction');
const nodeUrl = 'https://node1.testnet-0bsnetwork.com';

broadcast(signedTx, nodeUrl).then(resp =&gt; console.log(resp))
</code></pre>

<h2 id="transaction-examples">Transaction Examples</h2>
<h3 id="issue">Issue</h3>
<pre><code>const { issue, broadcast } = require('@0bsnetwork/zbs-transactions')
const signedTx = issue(
    {
        name: 'MyTestToken',
        description: 'My New Token',
        quantity: 50000,
        chainId: 'T'
    }, &quot;Write your SEED here&quot;)

broadcast(signedTx, &quot;https://node1.testnet-0bsnetwork.com&quot;)
    .then(resp =&gt; console.log(resp))
    .catch(e =&gt; console.error(`.catch(${e})`));
</code></pre>

<h3 id="reissue">Reissue:</h3>
<pre><code>const { reissue, broadcast } = require('@0bsnetwork/zbs-transactions')
const signedTx = reissue({
    quantity: 5000000,
    assetId: '5cfyua2DBmLcWYjh6D3k8ra3xNc6Ap47BSGr9rujciy6',
    reissuable: false,
    chainId: 'T'
}, &quot;Write your SEED here&quot;)

broadcast(signedTx, &quot;https://node1.testnet-0bsnetwork.com&quot;)
    .then(resp =&gt; console.log(resp))
    .catch(e =&gt; console.error(`.catch(${e})`));
</code></pre>

<h3 id="transfer-transaction">Transfer Transaction</h3>
<pre><code>const { transfer, broadcast } = require('@0bsnetwork/zbs-transactions')
const signedTx = transfer({
  amount: 1,
  recipient: '3NCGfpFCVCmMSgCSct8BhExjRZ3E8i83Goo',
  fee: 5000000
}, &quot;Write your SEED here&quot;)

broadcast(signedTx, &quot;https://node1.testnet-0bsnetwork.com&quot;)
    .then(resp =&gt; console.log(resp))
    .catch(e =&gt; console.error(`.catch(${e})`));
</code></pre>

<h3 id="burn-transaction">Burn Transaction</h3>
<p>Burning tokens can be useful for systems where a token is used to activate or fund a service and once the service has been used the token can be burnt.</p>
<pre><code>const constants = require('./constants')
const { burn, broadcast } = require('@0bsnetwork/zbs-transactions')

const signedTx = burn({
    quantity: 1,
    assetId: 'BiuhdjnH9qxgfax52zXgJw3b5ArxCdA4q8kYECqWoEYT',
    chainId: 'T'
}, &quot;Write your SEED here&quot;)

broadcast(signedTx, &quot;https://node1.testnet-0bsnetwork.com&quot;)
    .then(resp =&gt; console.log(resp))
    .catch(e =&gt; console.error(`.catch(${e})`));
</code></pre>

<h3 id="exchange-transaction">Exchange Transaction</h3>
<h3 id="lease-transaction">Lease Transaction</h3>
<pre><code>const { lease, broadcast } = require('@0bsnetwork/zbs-transactions')
const signedTx = lease(
    {
        amount: 100000,
        recipient: '3NBTZJ6BpuQeRCciQzYRVrFwyhrUcsf6f6M',
    }, &quot;Write your SEED here&quot;)

broadcast(signedTx, &quot;https://node1.testnet-0bsnetwork.com&quot;)
    .then(resp =&gt; console.log(resp))
    .catch(e =&gt; console.error(`.catch(${e})`));
</code></pre>

<h3 id="lease-cancel">Lease Cancel</h3>
<pre><code>const { cancelLease, broadcast } = require('@0bsnetwork/zbs-transactions')
const signedTx = cancelLease(
    {
        leaseId: 'HxJrij7Ba7ojaovjrZcvAaXAwMBMr9BkAyXLsdiiWtkF',
        chainId: 'T'
    }, &quot;Write your SEED here&quot;)

broadcast(signedTx, &quot;https://node1.testnet-0bsnetwork.com&quot;)
    .then(resp =&gt; console.log(resp))
    .catch(e =&gt; console.error(`.catch(${e})`));
</code></pre>

<h3 id="create-alias">Create Alias</h3>
<pre><code>const { alias, broadcast } = require('@0bsnetwork/zbs-transactions')
const signedTx = alias(
    {
        alias: 'New Alias',
        chainId: 'T',
        fee: 100000
    }, &quot;Write your SEED here&quot;)

broadcast(signedTx, &quot;https://node1.testnet-0bsnetwork.com&quot;)
    .then(resp =&gt; console.log(resp))
    .catch(e =&gt; console.error(`.catch(${e})`));
</code></pre>

<h3 id="mass-transfer">Mass Transfer</h3>
<pre><code>const { massTransfer, broadcast } = require('@0bsnetwork/zbs-transactions')

const signedTx = massTransfer({transfers: [
  {
    amount: 1,
    recipient: '3NCGfpFCVCmMSgCSct8BhExjRZ3E8i83Goo',
    fee: 1000000
  },
  {
    amount: 1,
    recipient: '3NCGfpFCVCmMSgCSct8BhExjRZ3E8i83Goo',
    fee: 1000000
  },
]}, &quot;Write your SEED here&quot;)

broadcast(signedTx, &quot;https://node1.testnet-0bsnetwork.com&quot;)
    .then(resp =&gt; console.log(resp))
    .catch(e =&gt; console.error(`.catch(${e})`));
</code></pre>

<h3 id="data">Data</h3>
<pre><code>const { data, broadcast } = require('@0bsnetwork/zbs-transactions')

const signedTx = data(
    { data: [
            { key: 'integerVal', value: 1 },
            { key: 'booleanVal', value: true },
            { key: 'stringVal', value: 'hello' },
            { key: 'binaryVal', value: [1, 2, 3, 4] }
        ]
    }, &quot;Write your SEED here&quot;)

broadcast(signedTx, &quot;https://node1.testnet-0bsnetwork.com&quot;)
    .then(resp =&gt; console.log(resp))
    .catch(e =&gt; console.error(`.catch(${e})`));
</code></pre>

<h3 id="index">Index</h3>
<p>Example code:</p>
<pre><code>const { transfer, broadcast } = require('@0bsnetwork/zbs-transactions')
const signedTx = transfer({
  amount: 1,
  recipient: '3NCGfpFCVCmMSgCSct8BhExjRZ3E8i83Goo',
  fee: 5000000,
  chainId: 'T'
}, &quot;Write your SEED here&quot;)

broadcast(signedTx, &quot;https://node1.testnet-0bsnetwork.com&quot;)
    .then(resp =&gt; console.log(resp))
    .catch(e =&gt; console.error(`.catch(${e})`));
</code></pre>

<h2 id="signing-transactions">Signing Transactions</h2>
<p>Signing transactions manually is quite complex, and usually its best to use a library to do so, however if you find you dont have a library available for your platform of choice, you may need to do it manually. The process involves concatenting the byte values of fields from the transaction to create a long byte array, and signing this using Curve25519 and your private key, and inserting this into the transaction payload.</p>
<p>Rather than include excessive details here on how to do that, the below code sample in C Sharp should be readable enough to understand how the process works, and you can also examine the code of our other libraries as they are all open source. If you need specific details or guidance, please do contact us using the details on the <a href="..">Front Page</a></p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../react/" class="btn btn-neutral float-right" title="React Library">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../nodeapi/" class="btn btn-neutral" title="Full Node REST API"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../nodeapi/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../react/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
